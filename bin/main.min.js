!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){n(1),n(2),n(3),n(4),n(5),n(6),n(7),n(8),n(9),n(10),n(11),n(12),n(13),n(14),n(15),n(16),n(17),n(18),t.exports=n(19)},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=Laya.Event.CLICK,u=(Laya.Event.STOPPED,Sail.Utils),c=[{cmd:GAME_CMDS.RANK_MINE,selectedIndex:0,param:null},{cmd:GAME_CMDS.GETBENT_RANK,selectedIndex:1,param:null},{cmd:GAME_CMDS.RANK_BET,selectedIndex:2,param:{type:"day"}},{cmd:GAME_CMDS.RANK_BET,selectedIndex:2,param:{type:"week"}},{cmd:GAME_CMDS.RANK_BET,selectedIndex:2,param:{type:"month"}}],h=function(t){function e(){o(this,e);var t=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.enableClick=!0,t.curIndex=-1,t.ACTIONS={},t.init(),t}return r(e,t),s(e,[{key:"init",value:function(){var t;this.nickName0.text="虚位以待",this.nickName1.text="虚位以待",this.nickName2.text="虚位以待",this.prizeAmount0.text="",this.prizeAmount1.text="",this.prizeAmount2.text="",this.rankMine.vScrollBarSkin="",this.rankPrize.vScrollBarSkin="",this.rankList.vScrollBarSkin="",this.rankTab.selectHandler=new Laya.Handler(this,this.onTabSelected),this.rankMineLogin.on(l,this,function(){window.location.href=GM.userLoginUrl}),this.closeBtn.on(l,this,function(){Laya.SoundManager.playSound("sound/btn.mp3"),this.close()}),this.ACTIONS=(t={},i(t,GAME_CMDS.RANK_MINE,this.updateRank),i(t,GAME_CMDS.GETBENT_RANK,this.updateRank),i(t,GAME_CMDS.RANK_BET,this.updateRank),i(t,GAME_CMDS.NO_LOGIN,this.updateRank),i(t,GAME_CMDS.NET_ERROR,this.netError),i(t,GAME_CMDS.RANK_NO_DATA,this.updateRank),i(t,GAME_CMDS.RANK_RICH,this.updateRich),t),Sail.io.register(this.ACTIONS,this),this.rankTab.selectedIndex=2,Sail.io.emit(GAME_CMDS.RANK_RICH,null,"ajax")}},{key:"onTabSelected",value:function(t){Laya.SoundManager.playSound("sound/btn.mp3"),-1!=t&&(this.rankNodata.visible=!1,this.rankList.array=[],this.rankPrize.array=[],this.rankMine.array=[],this.rankCon.selectedIndex=c[t].selectedIndex,Sail.io.emit(c[t].cmd,c[t].param,"ajax"))}},{key:"netError",value:function(t,e){for(var n in this.ACTIONS)if(n==e)return void(this.enableClick=!0)}},{key:"updateRich",value:function(t){var e=t.richList;if(e.length>0)for(var n=0;n<e.length;n++)0==n?(this.nickName0.text=u.cutStr(e[0].nickName,8),this.prizeAmount0.text=e[0].prizeAmount):1==n?(this.nickName1.text=u.cutStr(e[1].nickName,8),this.prizeAmount1.text=e[1].prizeAmount):2==n&&(this.nickName2.text=u.cutStr(e[2].nickName,8),this.prizeAmount2.text=e[2].prizeAmount);else this.nickName0.text="虚位以待",this.nickName1.text="虚位以待",this.nickName2.text="虚位以待",this.prizeAmount0.text="",this.prizeAmount1.text="",this.prizeAmount2.text=""}},{key:"updateRank",value:function(t,e){switch(e){case GAME_CMDS.RANK_MINE:if("nologin"==t)this.rankMineLogin.visible=!0,this.rankMine.visible=!1;else{var n=t.myPrize||[];for(var i in n)n[i].coin=n[i].point,n[i].time=n[i].raw_add_time;this.rankMine.array=n,this.rankMineLogin.visible=!1,this.rankMine.visible=!0,0==n.length&&(this.rankNodata.visible=!0)}break;case GAME_CMDS.GETBENT_RANK:var o=t.dispenseLog||[];for(var a in o)o[a].nickName=u.cutStr(o[a].nickName,8),o[a].coin=o[a].point,o[a].time=o[a].datatime;this.rankPrize.array=o,0==o.length&&(this.rankNodata.visible=!0);break;case GAME_CMDS.RANK_BET:var r=t.data||[];for(var s in r)r[s].nickName=u.cutStr(r[s].nickname,8),r[s].trendIcon=r[s].rank_trend-1,r[s].rank=r[s].rank,r[s].coin=0|r[s].amount;this.rankList.array=r,0==r.length&&(this.rankNodata.visible=!0)}}},{key:"onClosed",value:function(){Sail.io.unregister(this.ACTIONS)}}]),e}(ui.Alert.RankUI);Sail.class(h,"Alert.Rank")},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=Laya.Event.CLICK,l=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.data=t,n.moneyNum=null,n.amount=0,n.init(),n}return a(e,t),r(e,[{key:"init",value:function(t){this.onClick()}},{key:"onClick",value:function(){this.buyBtn1.on(s,this,function(){Laya.SoundManager.playSound("sound/btn.mp3"),this.amount=200,this.gorechange()}),this.buyBtn2.on(s,this,function(){Laya.SoundManager.playSound("sound/btn.mp3"),this.amount=100,this.gorechange()}),this.buyBtn3.on(s,this,function(){Laya.SoundManager.playSound("sound/btn.mp3"),this.amount=50,this.gorechange()}),this.buyBtn4.on(s,this,function(){Laya.SoundManager.playSound("sound/btn.mp3"),this.amount=10,this.gorechange()}),this.buyBtn5.on(s,this,function(){Laya.SoundManager.playSound("sound/btn.mp3"),this.amount=this.moneyNum,this.amount>0&&this.gorechange()}),this.inputNum.on(s,this,function(){console.log("键盘"),this.inputNum.text=100,this.showKeyboard()}),this.closeBtn.on(s,this,function(){Laya.SoundManager.playSound("sound/btn.mp3"),this.close()})}},{key:"gorechange",value:function(){var t=GM.redirect_uri,e=GM.gameId,n=GM.tradeName,i=(GM.platform,this.amount);window.location.href="/?act=payment&gameId="+e+"&tradeName="+n+"&amount="+i+"&platform="+platform+"&redirect_uri="+t}},{key:"showKeyboard",value:function(){this.moneyNum=this.inputNum.text;var t={input:function(t){this.moneyNum=t,console.log(t)},close:function(t,e){"confirm"==t&&(console.log(e),this.moneyNum=e,this.inputNum.text=this.moneyNum)}.bind(this)};Sail.keyboard.enter(this.inputNum.text,t)}}]),e}(ui.Alert.RechargeUI);Sail.class(l,"Alert.Recharge")},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();ui.Alert.PrizeUI;var s=(Laya.Event.CLICK,{closeOnSide:!0,autoClose:2e3}),l=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.data=t,n.CONFIG=s,n.init(t),n}return a(e,t),r(e,[{key:"init",value:function(t){this.qianCoinZ.text=t}}]),e}(ui.Alert.PrizeUI);Sail.class(l,"Alert.Prize")},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=Laya.Event.CLICK,l={closeOnSide:!0,autoClose:4e3},u=!1,c=function(t){function e(){i(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.CONFIG=l,t.soundstatus=null,t.init(),t}return a(e,t),r(e,[{key:"init",value:function(){this.top=150,this.right=Laya.stage.width/750*2+20,this.onclick(),this.initVoice()}},{key:"initVoice",value:function(){this.soundstatus=!!SOUNDSTATUS.CUR,1==this.soundstatus?this.btnSound.index=0:this.btnSound.index=1,1!=u&&(u=!0,Laya.SoundManager.musicMuted=!this.soundstatus,Laya.SoundManager.soundMuted=!this.soundstatus)}},{key:"setVoiceStatus",value:function(){switch(SOUNDSTATUS.CUR){case SOUNDSTATUS.ON:SOUNDSTATUS.CUR=SOUNDSTATUS.OFF,Laya.SoundManager.musicMuted=!0,Laya.SoundManager.soundMuted=!0,this.btnSound.index=1;break;case SOUNDSTATUS.OFF:SOUNDSTATUS.CUR=SOUNDSTATUS.ON,Laya.SoundManager.musicMuted=!1,Laya.SoundManager.soundMuted=!1,this.btnSound.index=0}this.initVoice()}},{key:"onclick",value:function(){this.btnSound.on(Laya.Event.CLICK,this,function(){Laya.SoundManager.playSound("sound/btn.mp3"),0==this.btnSound.index?(this.btnSound.index=1,this.soundstatus=!1,SOUNDSTATUS.CUR=1):(this.btnSound.index=0,this.soundstatus=!0,SOUNDSTATUS.CUR=0),this.setVoiceStatus()}),this.helpBtn.on(s,null,function(){Laya.SoundManager.playSound("sound/btn.mp3"),Sail.director.popScene(new Alert.help)})}},{key:"onResize",value:function(t,e){this.size(t,e),this.left=Laya.stage.width/750*2+20}}]),e}(ui.Alert.SetUI);Sail.class(c,"Alert.Set")},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=Laya.Event.CLICK,l={shadowAlpha:.7,autoClose:!1,closeOther:!0},u=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.data=t,n.CONFIG=l,n.init(),n}return a(e,t),r(e,[{key:"init",value:function(t){new zsySlider(this.helpWarp);this.top=0,this.closeBtn.on(s,this,function(){Laya.SoundManager.playSound("sound/btn.mp3"),this.close()}),this.goon.on(s,this,function(){Laya.SoundManager.playSound("sound/btn.mp3"),this.close()})}}]),e}(ui.Alert.helpUI);Sail.class(u,"Alert.help")},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=Laya.Event.CLICK,l={closeOnSide:!0,autoClose:3e3},u=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.data=t,n.CONFIG=l,n.init(t),n}return a(e,t),r(e,[{key:"init",value:function(t){this.bet.text=t,this.bindEvent()}},{key:"bindEvent",value:function(){this.closeBtn.on(s,this,function(){Laya.SoundManager.playSound("sound/btn.mp3"),this.close()}),this.know.on(s,this,function(){Laya.SoundManager.playSound("sound/btn.mp3"),this.close()})}}]),e}(ui.Alert.publiconeUI);Sail.class(u,"Alert.Publicone")},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=Laya.Event.CLICK,l={closeOnSide:!0,autoClose:3e3},u=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.selfConfig=t,n.CONFIG=l,n.init(),n}return a(e,t),r(e,[{key:"init",value:function(){this.update(),this.resize(),this.bindEvent()}},{key:"update",value:function(){this.alertMsg.style.align="center",this.alertMsg.style.fontSize=30,this.alertMsg.style.fontStyle="Microsoft YaHei",this.alertMsg.style.color="#00fff6",this.alertMsg.innerHTML=this.selfConfig.msg}},{key:"resize",value:function(){this.alertMsg.height=this.alertMsg.contentHeight,this.height=this.alertMsg.height+this.alertMsg.y+200}},{key:"bindEvent",value:function(){this.closeBtn.on(s,this,function(){Laya.SoundManager.playSound("sound/btn.mp3"),this.close()}),this.know.on(s,this,function(){Laya.SoundManager.playSound("sound/btn.mp3"),this.selfConfig.close&&this.selfConfig.close(),this.close()})}}]),e}(ui.Alert.PublicUI);Sail.class(u,"Alert.Public")},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=Laya.Event.CLICK,l=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.data=t,n.init(),n}return a(e,t),r(e,[{key:"init",value:function(t){this.bindEvent(),this.goRecharge.visible=!1}},{key:"bindEvent",value:function(){this.goRecharge.on(s,this,function(){Laya.SoundManager.playSound("sound/btn.mp3"),Sail.director.popScene(new Alert.Recharge),this.close()}),this.closeBtn.on(s,this,function(){this.close(),Laya.SoundManager.playSound("sound/btn.mp3")})}}]),e}(ui.Alert.ChongUI);Sail.class(l,"Alert.Chong")},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=(Laya.Event.CLICK,Laya.Event.STOPPED,Sail.Utils,{closeOnSide:!0,autoClose:2e3}),l=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.CONFIG=s,n.popupEffect=null,n.closeEffect=null,n.qianCoin=null,n.data=t,n.init(t),n}return a(e,t),r(e,[{key:"init",value:function(t){"0"==t.win?(this.lose.visible=!0,this.win.visible=!1,Laya.SoundManager.playSound("sound/lose.mp3")):(Laya.SoundManager.playSound("sound/win.mp3"),this.lose.visible=!1,this.win.visible=!0,this.prizeNum.text=t.prizeAmount,"1"==t.win?this.poker.text=" 4至6一对":"2"==t.win?this.poker.text=" 3个相同":"3"==t.win?this.poker.text=" 2个一对":"4"==t.win?this.poker.text="葫芦":"5"==t.win?this.poker.text=" 4个相同":"6"==t.win?this.poker.text=" 顺子":"7"==t.win&&(this.poker.text="豹子"))}},{key:"onClosed",value:function(){Sail.io.publish(GAME_CMDS.GAME_RESET),this.socketExec(),this.socketExec({type:"buzhongxian"})}},{key:"socketExec",value:function(t){if(window.GM&&GM.socket_RJ){GM.socket_RJ.exec&&GM.socket_RJ.exec(t);var e=GM.socket_RJ.getMoney;if(e&&e()>0){var n={gameId:GM.gameId,type:1};Sail.io.emit(GAME_CMDS.USE_INFO,n,"ajax")}}}}]),e}(ui.Alert.WinUI);Sail.class(l,"Alert.result")},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=(Laya.Event.CLICK,{closeOnSide:!0}),l=function(t){function e(){i(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.CONFIG=s,t.init(),t}return a(e,t),r(e,[{key:"init",value:function(){this.powerNum1.text=oddsVal[0],this.powerNum2.text=oddsVal[1],this.powerNum3.text=oddsVal[2],this.powerNum4.text=oddsVal[3],this.powerNum5.text=oddsVal[4],this.powerNum6.text=oddsVal[5],this.powerNum7.text=oddsVal[6]}}]),e}(ui.Alert.powerUI);Sail.class(l,"Alert.Power")},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=(Laya.Event.CLICK,Laya.Event.STOPPED),u=Sail.Utils,c=[{x:290,y:340,scaleX:.8,scaleY:.8},{x:470,y:340,scaleX:.8,scaleY:.8},{x:180,y:490,scaleX:.9,scaleY:.9},{x:380,y:490,scaleX:.9,scaleY:.9},{x:580,y:490,scaleX:.9,scaleY:.9}],h=function(t){function e(t){o(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.ball=null,n.ballValue=null,n.index=null,n.init(t),n}return r(e,t),s(e,[{key:"init",value:function(t){this.index=t,this.pos(c[t].x,c[t].y),this.scale(c[t].scaleX,c[t].scaleY);var e=u.createSkeleton("res/dragon/ball");e.on(l,this,function(){switch(this.ball.curAniName){case"enter":this.ball.curAniName="enter",this.ball.play("waiting",!0);break;case"open":this.ball.curAniName="open",this.ball.play("openloop",!0);break;case"result":this.ball.curAniName="result",this.ball.play("result",!0),this.ball.play("openloop",!0),this.ballValue.alpha=0;break;case"exit":this.ball.curAniName="exit",this.ball.play("back",!0)}});var n=new Laya.Label;n.align="center",n.font="pointNum",n.alpha=0,this.ball=e,this.ballValue=n,this.addChildren(e,n)}},{key:"enter",value:function(){Laya.timer.once(300*this.index,this,function(){this.ball.curAniName="enter",this.ball.play("enter",!1)})}},{key:"play",value:function(){Laya.timer.once(100*this.index,this,function(){this.ball.curAniName="open",this.ball.play("open",!1)})}},{key:"draw",value:function(t){this.ball.curAniName="result",this.ball.play("result",!1),this.ballValue.text=t,this.ballValue.pos(0,-170);var e=this.ballValue;e.pivot(50,50),e.scale(1.5,1.5),e.alpha=0,Laya.Tween.to(e,{scaleX:.7,scaleY:.7,alpha:.6},200,Laya.Ease.linearIn,Laya.Handler.create(null,function(){Laya.Tween.to(e,{scaleX:1.1,scaleY:1.1,alpha:1},1500,Laya.Ease.backOut,Laya.Handler.create(null,function(){Laya.Tween.to(e,{scaleX:1,scaleY:1,alpha:0},500,Laya.Ease.linearIn,Laya.Handler.create(null,function(){}),560)}),560)}),560)}},{key:"reset",value:function(){Laya.timer.once(100*this.index,this,function(){this.ball.curAniName="exit",this.ball.play("back",!1),Laya.timer.once(1200,this,function(){this.ball.play("waiting",!0),this.ballValue.alpha=0})})}}]),e}(Laya.Box),f=function(t){function e(){o(this,e);var t=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.fog=null,t.money=null,t.ballBox=[],t.init(),t}return r(e,t),s(e,[{key:"init",value:function(){var t,e=(t={},i(t,GAME_CMDS.EMIT_PLAY_DATA,this.play),i(t,GAME_CMDS.GAME_RESET,this.reset),i(t,GAME_CMDS.NET_ERROR,this.netError),i(t,GAME_CMDS.PLAY,this.draw),t);Sail.io.register(e,this),this.size(750,506),this.centerX=0,this.y=400;var n=u.createSkeleton("res/dragon/desk");n.scale(2,2),n.pos(this.width/2,this.height/2),n.on(l,this,function(){switch(this.desk.curAniName){case"loop":this.desk.curAniName="loop",this.desk.play("loop",!0);break;case"result":this.desk.curAniName="result",this.desk.play("loop",!0)}}),this.desk=n;var o=u.createSkeleton("res/dragon/fog");o.scale(2,2),o.pos(100,0),this.fog=o;var a=new Com.Game.MoneyCtrl;a.pos(-200,70);var r=u.createSkeleton("res/dragon/light");r.pos(this.width/2,this.height/2),this.light=r,this.addChildren(this.desk,a,r,o);for(var s=0;s<5;s++){var c=new h(s);this.ballBox.push(c),this.addChild(c)}}},{key:"enter",value:function(){this.desk.play("waiting",!0);for(var t in this.ballBox)this.ballBox[t].enter()}},{key:"play",value:function(){this.desk.curAniName="loop",this.fog.play("fog",!0),Laya.SoundManager.playSound("sound/open.mp3"),Laya.SoundManager.playSound("sound/fog.mp3");for(var t in this.ballBox)this.ballBox[t].play()}},{key:"draw",value:function(t){var e=t.context;Laya.SoundManager.playSound("sound/draw.mp3"),this.desk.play("result",!1),Laya.timer.once(200,this,function(){this.desk.curAniName="result",this.light.play("light",!1)});for(var n in this.ballBox)this.ballBox[n].draw(e[n])}},{key:"reset",value:function(){this.fog.play("fog",!1),this.desk.curAniName="waiting",this.desk.play("waiting",!0);for(var t in this.ballBox)this.ballBox[t].reset()}},{key:"netError",value:function(t,e){e==GAME_CMDS.USE_BET&&this.reset()}}]),e}(Laya.Box);Sail.class(f,"Com.Game.GameCtrl")},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,n,i)}if("value"in o)return o.value;var r=o.get;if(void 0!==r)return r.call(i)},u=Laya.Event.CLICK,c=Laya.Event.STOPPED,h=Laya.Event.MOUSE_DOWN,f=Laya.Event.MOUSE_UP,p=!1,y=Sail.Utils,d=function(t){function e(){o(this,e);var t=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.maxValue=0,t.gameScore=0,t.TCoin=0,t.TScore=0,t.caijing=0,t.caifen=0,t.tingdou=0,t.wltScore=0,t.jiankangjin=0,t.clickTime=null,t.isRun=!0,t.playValue=100,t.zdNum=null,t.sta=null,t.params=null,t.autoBetFlag=0,t.init(),t}return r(e,t),s(e,[{key:"destroy",value:function(){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"init",value:function(){var t;this.bottom=0,this.start.bottom=-100,this.bet.bottom=10;var e=(t={},i(t,GAME_CMDS.USE_INFO,this.update),i(t,GAME_CMDS.PLAY,this.draw),i(t,GAME_CMDS.GAME_RESET,this.reset),i(t,GAME_CMDS.NET_ERROR,this.netError),t);Sail.io.register(e,this),this.reduceBtn.on(u,this,this.calc,["decrease"]),this.addBtn.on(u,this,this.calc,["increase"]),this.btnMax.on(u,this,this.calc,["max"]),this.rechargeBtn.on(u,this,function(){Sail.checkLogin()&&(Sail.director.popScene(new Alert.Recharge),Laya.SoundManager.playSound("sound/btn.mp3"))}),this.betValue.on(u,this,this.showKeyboard),this.onClick();var n=y.createSkeleton("res/dragon/start");n.pos(130,215),n.scaleX=2,n.scaleY=2,this.sta=n,this.startBtn.addChild(n)}},{key:"showKeyboard",value:function(){var t={input:this.calc.bind(this,"keyboard"),close:function(t,e){"confirm"==t&&this.calc("keyboard",e)}.bind(this)};Sail.keyboard.enter(this.betValue.text,t)}},{key:"calc",value:function(t,e){if(Sail.checkLogin()&&1!=this.reduceBtn.index&&1!=this.addBtn.index&&1!=this.btnMax.index){var n=0,i=0,o=0|this.betValue.text;switch(o<=1e3?n=100:o<=1e4?n=1e3:o<=1e5?n=1e4:o<=5e5&&(n=1e5),o<1e3?i=100:o<1e4?i=1e3:o<1e5?i=1e4:o<5e5&&(i=1e5),t){case"increase":o+=i,o>=this.maxValue&&(o=this.maxValue);break;case"decrease":o-=n,o<=100&&(o=100);break;case"max":o=this.maxValue;break;case"keyboard":o=100*(e/100|0),o<100&&(o=100),o>this.maxValue&&(o=this.maxValue)}"keyboard"!=t&&Laya.SoundManager.playSound("sound/btn.mp3"),this.betValue.text=o,this.playValue=o,this.playValue>this.gameScore&&Sail.director.popScene(new Alert.Chong)}}},{key:"update",value:function(t){if(this.gameScore=t.gameScore,this.TCoin=t.TCoin,this.TScore=t.TScore,this.caijing=t.caijin,this.caifen=t.caifen,this.tingdou=t.tingdou,this.wltScore=t.wltScore,this.jiankangjin=t.jiankangjin,this.maxValue=Math.max(t.gameScore,t.TCoin),this.maxValue=100*(this.maxValue/100|0),this.maxValue=Math.min(this.maxValue,5e5),USER_LOGIN_STATUS&&!p){p=!0;var e=GM.CookieUtil.get("defaultBet"+GM.gameId+GM.user_id)?parseInt(GM.CookieUtil.get("defaultBet"+GM.gameId+GM.user_id),10):null;if(e&&e<=t.total)this.betValue.text=e,this.playValue=e;else{var n=100*Math.ceil(t.total/1e4);n=n>1e4?1e4:n,n=n<100?100:n,this.betValue.text=n,this.playValue=n}Laya.timer.once(2e3,this,function(t){Sail.director.popScene(new Alert.Publicone(t))},[defaultBetValue])}}},{key:"onClick",value:function(){var t=this;this.startBtn.on(h,this,function(){Sail.checkLogin()&&0!=t.isRun&&1!=t.autoBetFlag&&(t.sta.play("down",!1),t.sta.on(c,t,function(){this.sta.play("enter",!0)}),Laya.SoundManager.playSound("sound/btn.mp3"),t.playValue>t.gameScore&&t.gameScore<=0&&Sail.director.popScene(new Alert.Chong),t.clickTime=Date.now())}),this.startBtn.on(f,this,function(){if(0!=t.isRun&&1!=t.autoBetFlag){var e=Date.now(),n=e-t.clickTime;n<=1e3?t.playGame():(t.tip.visible=!1,t.startBtn.visible=!1,t.stopBtn.visible=!0,t.playNum.visible=!0,t.zdbg.visible=!0,t.playNum.text=100,t.zdNum=t.playNum.text,t.playCtrl(),t.reduceBtn.index=1,t.addBtn.index=1,t.btnMax.index=1,t.betValue.disabled=!0)}}),this.stopBtn.on(u,this,function(){Laya.SoundManager.playSound("sound/btn.mp3"),t.tip.visible=!0,t.stopBtn.visible=!1,t.playNum.visible=!1,t.zdNum=0,t.zdbg.visible=!1,t.startBtn.visible=!0,t.reduceBtn.index=0,t.addBtn.index=0,t.btnMax.index=0,t.betValue.disabled=!1})}},{key:"playCtrl",value:function(){0==this.zdNum&&(this.stopBtn.visible=!1,this.playNum.visible=!1,this.zdbg.visible=!1,this.startBtn.visible=!0,this.autoBetFlag=0,this.reduceBtn.index=0,this.addBtn.index=0,this.btnMax.index=0,this.betValue.disabled=!1),this.zdNum>0&&(this.zdNum--,this.playNum.text=this.zdNum,this.isRun=!1,this.autoBetFlag=1,this.playGame())}},{key:"playGame",value:function(){this.isRun=!1,this.startBtn.disable=!0,Laya.timer.once(1e3,this,function(){var t={amount:this.playValue,TCoin:this.TCoin,TScore:this.TScore,caijin:this.caijing,caifen:this.caifen,tingdou:this.tingdou,wltScore:this.wltScore,jiankangjin:this.jiankangjin,autoBetFlag:this.autoBetFlag};Sail.io.emit(GAME_CMDS.USE_BET,t,"ajax"),GM.CookieUtil.set("defaultBet"+GM.gameId+GM.user_id,String(this.playValue)),Sail.io.publish(GAME_CMDS.GAME_BET_VALUE,this.playValue),Sail.io.publish(GAME_CMDS.EMIT_PLAY_DATA,null)})}},{key:"btnScaleFun",value:function(t,e,n,i,o){var a=o;a.pivot(t,e),a.x=n+t,a.y=i+e,a.scale(1.2,1.2),Laya.timer.once(50,a,function(){a.scale(1,1)})}},{key:"draw",value:function(){this.isRun=!1,this.startBtn.disable=!0}},{key:"reset",value:function(t){1==t&&(this.zdNum=0,this.playCtrl()),this.sta.play("enter",!0),Laya.timer.once(2e3,this,function(){this.isRun=!0,this.startBtn.disable=!1}),Laya.timer.once(2e3,this,function(){this.playCtrl()})}},{key:"enter",value:function(){this.sta.play("enter",!0),Laya.Tween.to(this.bet,{bottom:340,alpha:1},250,null,null,460),Laya.Tween.to(this.start,{bottom:0,alpha:1},250,null,null,500)}},{key:"netError",value:function(t,e){e==GAME_CMDS.USE_BET&&this.reset()}}]),e}(ui.Game.BetUI);Sail.class(d,"Com.Game.BetCtrl")},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,n,i)}if("value"in o)return o.value;var r=o.get;if(void 0!==r)return r.call(i)},u=Laya.Event.CLICK,c=(Laya.Event.STOPPED,Sail.Utils,function(t){function e(){o(this,e);var t=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.betValue=null,t.init(),t}return r(e,t),s(e,[{key:"destroy",value:function(){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"init",value:function(){var t;this.y=0;var e=(t={},i(t,GAME_CMDS.USE_INFO,this.update),i(t,GAME_CMDS.GAME_BET_VALUE,this.onBet),i(t,GAME_CMDS.PLAY,this.onResult),i(t,GAME_CMDS.GAME_RESET,this.reset),t);Sail.io.register(e,this),this.onClick()}},{key:"update",value:function(t){this.tCoin.text=t.TCoin,this.Ycoin.text=t.gameScore,this.gameScore=t.gameScore,this.TCoin=t.TCoin}},{key:"onBet",value:function(t){this.betValue=t}},{key:"onResult",value:function(t){if(t.prizeAmount>=0){var e=t.userAccountBalance,n=this.TCoin,i=this.gameScore,o=t.qianCoinZ;if(e.isVerify){var a={gameId:GM.gameId,type:1};Sail.io.emit(GAME_CMDS.USE_INFO,a,"ajax")}else{var r=Number(e.tdianPoint),s=Number(e.cjPoint),l=Number(e.cfPoint),u=Number(e.tdouPoint),c=Number(e.wltPoint),h=Number(e.jkPoint)||0,f=Number(e.tbPoint),p=r+s+u+c+l+h;n=n!==f?f:n,i=i!==p?p:i,Laya.timer.once(1e3,this,function(){this.tCoin.text=n,this.Ycoin.text=o>0?i+t.prizeAmount+o:i+t.prizeAmount})}}}},{key:"onClick",value:function(){this.btnBack.on(Laya.Event.CLICK,null,function(){GM.btnBackCall_out()}),this.balanceBtn.on(u,this,function(){Laya.SoundManager.playSound("sound/btn.mp3"),Sail.checkLogin()&&window.GM&&1===GM.isCall_out&&GM.popBalanceShow_out&&GM.popBalanceShow_out(function(t){this.Ycoin.text=t.gameScore}.bind(this))}),this.btnBack.on(Laya.Event.CLICK,null,function(){Laya.SoundManager.playSound("sound/btn.mp3"),GM.btnBackCall_out()}),window.GM&&1===GM.isCall_out&&GM.isShowBtnBack_out&&GM.btnBackCall_out&&(this.btnBack.visible=!0),GM.backHomeUrl&&(this.homeBtn.visible=!0,this.homeBtn.on(u,this,function(){Laya.SoundManager.playSound("sound/btn.mp3"),location.href=GM.backHomeUrl})),this.setBtn.on(u,this,function(){Laya.SoundManager.playSound("sound/btn.mp3"),Sail.director.popScene(new Alert.Set)}),this.rankBtn.on(u,this,function(){Laya.SoundManager.playSound("sound/btn.mp3"),Sail.director.popScene(new Alert.Rank)}),this.douBtn.on(u,this,function(){Laya.SoundManager.playSound("sound/btn.mp3"),Sail.director.popScene(new Alert.Recharge)}),this.rechargeBtn.on(u,this,function(){Laya.SoundManager.playSound("sound/btn.mp3"),Sail.director.popScene(new Alert.Recharge)})}},{key:"enter",value:function(){Laya.Tween.to(this,{y:40,alpha:1},1e3,null,null,500)}},{key:"reset",value:function(){}}]),e}(ui.Game.headUI));Sail.class(c,"Com.Game.HeadCtrl")},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,n,i)}if("value"in o)return o.value;var r=o.get;if(void 0!==r)return r.call(i)},u=(Laya.Event.CLICK,Laya.Event.STOPPED,Sail.Utils,function(t){function e(){o(this,e);var t=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.qian_point=null,t.init(),t}return r(e,t),s(e,[{key:"destroy",value:function(){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"init",value:function(){var t;this.centerX=0,this.prizeTip1.text="≥"+GM.qian_conf_1,this.percent.text=GM.qian_conf_2,this.qiandai.text=GM.qian_point;var e=(t={},i(t,GAME_CMDS.PLAY,this.draw),i(t,GAME_CMDS.GAME_RESET,this.reset),i(t,GAME_CMDS.NET_ERROR,this.netError),t);Sail.io.register(e,this)}},{key:"draw",value:function(t){Laya.timer.once(1e3,this,function(){this.qiandai.text=t.qianMoney})}},{key:"reset",value:function(){}},{key:"netError",value:function(){}},{key:"poolAmount",value:function(t){var e=Number(this.qian_point),n=Number(t);if(n>e){var i=n-e,o=parseInt(i/200);o=0==o?1:o,clearInterval(this.poolTimeInterval),this.poolTimeInterval=setInterval(function(){e>=n?(clearInterval(this.poolTimeInterval),this.qian_point=t):(e+=o,this.qian_point=t)},1e3)}else this.qian_point=t;this.qiandai.text=this.qian_point}},{key:"enter",value:function(){}}]),e}(ui.Game.MoneyUI));Sail.class(u,"Com.Game.MoneyCtrl")},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=['{{if type == "dice"}}','<span style="color:#98ff66">{{disName}}</span><span style="color:#ffffff">正在打杀，大家赶紧来膜拜吧。</span>','{{else if type == "payback"}}','<span style="color:#ff6a18">{{disName}}使用平安娱乐险,免除{{prize_amount}}损失</span>',"{{else}}",'<span style="color:#ffffff">恭喜</span><span href="#" style="color:#ffd632">{{disName}}</span><span style="color:#ffffff">赢得</span><span href="#" style="color:#ffd632">{{prize_amount}}</span><span style="color:#ffffff">分，祝福财源滚滚</span>',"{{/if}}"].join(""),l=function(t){function e(){i(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.notify=null,t.parmas,t.init(),t}return a(e,t),r(e,[{key:"init",value:function(){this.top=-100,this.alpha=0,this.centerX=0,Sail.io.register(GAME_CMDS.USE_NOTIFY,this,this.update);var t={width:694,fontSize:24,tpl:s,complete:function(){Sail.io.emit(GAME_CMDS.USE_NOTIFY,null,"ajax")}};this.notify=new Tools.Notify(t),this.notify.pos(30,10),this.addChild(this.notify),Sail.io.emit(GAME_CMDS.USE_NOTIFY,null,"ajax")}},{key:"update",value:function(t){this.notify.add(t.list)}},{key:"enter",value:function(){Laya.Tween.to(this,{y:0,alpha:1},250,null,null,260)}}]),e}(ui.Game.NotifyUI);Sail.class(l,"Com.Game.Notify")},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,n,i)}if("value"in o)return o.value;var r=o.get;if(void 0!==r)return r.call(i)},u=Laya.Event.CLICK,c=Laya.Event.STOPPED,h=Sail.Utils,f=function(t){function e(){o(this,e);var t=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.man=null,t.win=null,t.init(),t}return r(e,t),s(e,[{key:"destroy",value:function(){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"init",value:function(){var t;this.powerNum1.text=oddsVal[0]+"倍",this.powerNum2.text=oddsVal[1]+"倍",this.powerNum3.text=oddsVal[2]+"倍",this.powerNum4.text=oddsVal[3]+"倍",this.powerNum5.text=oddsVal[4]+"倍",this.powerNum6.text=oddsVal[5]+"倍",this.powerNum7.text=oddsVal[6]+"倍",this.powerAll.on(u,null,function(){Sail.director.popScene(new Alert.Power),Laya.SoundManager.playSound("sound/btn.mp3")}),this.top=200,this.left=-5;var e=(t={},i(t,GAME_CMDS.EMIT_PLAY_DATA,this.play),i(t,GAME_CMDS.GAME_RESET,this.reset),i(t,GAME_CMDS.NET_ERROR,this.netError),i(t,GAME_CMDS.PLAY,this.draw),t);Sail.io.register(e,this);var n=h.createSkeleton("res/dragon/man");n.x=this.width/2,n.y=480,n.centerX=0,n.scaleX=1.9,n.scaleY=1.9,n.on(c,this,function(){switch(this.man.curAniName){case"enter":this.man.curAniName="enter",this.man.play("waiting",!0);break;case"start":this.man.curAniName="start",this.man.play("loop",!0);break;case"result":this.man.curAniName="result",this.man.play("waiting",!0)}}),this.man=n,this.addChild(this.man)}},{key:"onResult",value:function(t){this.win=t.win,"1"==this.win?Laya.timer.once(1e3,this,function(){this.power1.index=1,this.powertext1.color="#2d0000",this.powerNum1.color="#2d0000"}):"2"==this.win?Laya.timer.once(1e3,this,function(){this.power2.index=1,this.powertext2.color="#2d0000",this.powerNum2.color="#2d0000"}):"3"==this.win?Laya.timer.once(1e3,this,function(){this.power3.index=1,this.powertext3.color="#2d0000",this.powerNum3.color="#2d0000"}):"4"==this.win?Laya.timer.once(1e3,this,function(){this.power4.index=0,this.powertext4.color="#2d0000",this.powerNum4.color="#2d0000"}):"5"==this.win?Laya.timer.once(1e3,this,function(){this.power5.index=1,this.powertext5.color="#2d0000",this.powerNum5.color="#2d0000"}):"6"==this.win?Laya.timer.once(1e3,this,function(){this.power6.index=1,this.powertext6.color="#2d0000",this.powerNum6.color="#2d0000"}):"7"==this.win&&Laya.timer.once(1e3,this,function(){this.power7.index=1,this.powertext7.color="#2d0000",this.powerNum7.color="#2d0000"})}},{key:"enter",value:function(){Laya.timer.once(1e3,this,function(){this.man.curAniName="enter",this.man.play("enter",!1)})}},{key:"play",value:function(){this.man.curAniName="start",this.man.play("start",!1)}},{key:"draw",value:function(t){this.man.curAniName="result",this.man.play("result",!1),this.onResult(t)}},{key:"reset",value:function(){this.man.curAniName="waiting",this.man.play("waiting",!0),this.power1.index=0,this.power2.index=0,this.power3.index=0,this.power4.index=1,this.power5.index=0,this.power6.index=0,this.power7.index=0,this.powertext1.color="#c06800",this.powerNum1.color="#c06800",this.powertext3.color="#c06800",this.powerNum3.color="#c06800",this.powertext5.color="#c06800",this.powerNum5.color="#c06800",this.powertext7.color="#c06800",this.powerNum7.color="#c06800",this.powertext2.color="#a484ff",this.powerNum2.color="#a484ff",this.powertext4.color="#a484ff",this.powerNum4.color="#a484ff",this.powertext6.color="#a484ff",this.powerNum6.color="#a484ff"}},{key:"netError",value:function(t,e){}}]),e}(ui.Game.OddsUI);Sail.class(f,"Com.Game.OddsCtrl")},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s,l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=(Laya.Event.STOPPED,Sail.Utils,s={},r(s,GAME_CMDS.USE_INFO,function(t){USER_LOGIN_STATUS=!0,USER_DEFAULT_INFO=null}),r(s,GAME_CMDS.GAME_BET_VALUE,function(t){this.params=t}),r(s,GAME_CMDS.USE_BET,function(t){if(this.qian=t.qianCoinZ,t.prizeAmount>=0&&t.context.length>0)Laya.timer.once(1e3,this,function(t){Sail.io.publish(GAME_CMDS.PLAY,t),Laya.timer.once(3e3,this,function(t){Sail.director.popScene(new Alert.result(t)),this.qian>0&&Laya.timer.once(2e3,this,function(){Laya.SoundManager.playSound("sound/money.mp3"),Sail.director.popScene(new Alert.Prize(this.qian))})},[t])},[t]);else{Sail.io.publish(GAME_CMDS.GAME_RESET,1),Sail.director.popScene(new Alert.Public({msg:'<span style="color:#64cee5">网络异常，请稍后再试！</span>'}))}}),s),c=function(t){function e(){i(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.betValue=[],t.playCtrl=null,t.notify=null,t.Odds=null,t.bet=null,t.header=null,t.money=null,t.start=null,t.fog=null,t.qian=null,t.size(Laya.stage.width,Laya.stage.height),t.init(),t}return a(e,t),l(e,[{key:"init",value:function(){1==GM.isNewUser&&Sail.director.popScene(new Alert.help),Laya.SoundManager.playMusic("sound/background.mp3"),Sail.io.register(u,this),this.size(Laya.stage.width,Laya.stage.height);var t=new Laya.Image("res/game/bigBg.jpg");t.centerX=0,t.y=0;var e=new Laya.Image("res/game/notibg.png");e.centerX=0,e.y=0;var n=new Laya.Image("res/game/title.png");n.centerX=0,n.y=25,this.notify=new Com.Game.Notify,this.header=new Com.Game.HeadCtrl,this.odds=new Com.Game.OddsCtrl,this.bet=new Com.Game.BetCtrl,this.playCtrl=new Com.Game.GameCtrl,this.addChildren(t,e,n,this.notify,this.header,this.odds,this.playCtrl,this.bet),USER_LOGIN_STATUS&&Sail.io.publish(GAME_CMDS.USE_INFO,USER_DEFAULT_INFO)}},{key:"onEnter",value:function(){this.notify.enter(),this.header.enter(),this.odds.enter(),this.playCtrl.enter(),this.bet.enter()}},{key:"onResize",value:function(t,e){this.size(t,e)}}]),e}(Sail.Scene);Sail.class(c,"Scene.Game")},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,n,i)}if("value"in o)return o.value;var r=o.get;if(void 0!==r)return r.call(i)},l=function(t){function e(){i(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.init(),t}return a(e,t),r(e,[{key:"destroy",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this,!0)}},{key:"init",value:function(){this.centerX=0;var t=new laya.components.Isbn;this.addChild(t)}},{key:"onProgress",value:function(t){var e=655*t;e>655&&(e=655),this.progress.value=t,this.percent.text=parseInt(100*t)+"%"}},{key:"load",value:function(t,e){Laya.loader.load(t,Laya.Handler.create(this,function(){e()},[e]),new Laya.Handler(this,this.onProgress))}}]),e}(ui.Start.loadingUI);Sail.class(l,"Com.Start.PreLoad")},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=(Sail.Utils,function(t){function e(){i(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.proPreLoad=null,t.size(Laya.stage.width,Laya.stage.height),t}return a(e,t),r(e,[{key:"init",value:function(){this.size(Laya.stage.width,Laya.stage.height);var t={gameId:GM.gameId,type:1};Sail.io.register(GAME_CMDS.USE_INFO,this,this.checkLogin),Sail.io.emit(GAME_CMDS.USE_INFO,t,"ajax"),this.showStaticProgress(),this.proPreLoad.load(ASSETS.GAME,function(){Sail.director.runScene(new Scene.Game)})}},{key:"showStaticProgress",value:function(){var t=new Com.Start.PreLoad;this.proPreLoad=t,this.addChild(t)}},{key:"checkLogin",value:function(t,e){console.log(t,e),USER_LOGIN_STATUS=GM.userLogged,USER_DEFAULT_INFO=t}},{key:"onEnter",value:function(){Laya.loader.load(ASSETS.PRELOAD,Laya.Handler.create(this,this.init))}},{key:"onExit",value:function(){Sail.io.unregister(GAME_CMDS.USE_INFO,this.checkLogin)}},{key:"onResize",value:function(t,e){this.height=e}}]),e}(Sail.Scene));Sail.class(s,"Scene.Start")}]);